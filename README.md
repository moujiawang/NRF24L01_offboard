# NRF24L01_offboard
## 实现功能:  
实现了将NRF24L01的上传数据通过串口上发给上位机（ROS RVIZ），同时接受上位机通过串口下发的指令，同时通过NRF24L01转发给下位机。所以这个程序主要实现的就是程序无线到串口，串口到无线的转发功能。
## 硬件条件:
正点原子 STM32F103ZET6 战舰板 来做的实验，无线通讯用的NRF24L01+。 
## NRF24L01通讯方式: 
NRF24L01的通讯采用自动应答，动态数据长度的模式进行通讯，下位机（飞行器端）始终处于发送模式，上位机端始终处于接收模式，下位机发送端控制数据发送的频率（心跳），上位机接收到上传的数据后，马上将已经提前写入TX FIFO中的数据下发应答（ACK with payload）。
## 串口通讯方式: 
串口数据通过USART1来传输，开启接收中断，每一帧数据末尾以 0x0d 0x0a (\n)结束，中断中自动解包（丢弃末尾结束标注符），发送出去的数据也加上0x0d 0x0a。
